{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Bem-vindo ao FrotaNext","text":"<p>O que \u00e9 o FrotaNext?</p> <p>O FrotaNext \u00e9 uma plataforma moderna e escal\u00e1vel de Aluguel de Ve\u00edculos (Rent-a-Car). </p> <p>Projetado com uma arquitetura de microsservi\u00e7os, o sistema gerencia todo o ciclo de vida da loca\u00e7\u00e3o: desde a vitrine de ve\u00edculos e reserva pelo cliente, at\u00e9 a gest\u00e3o de frotas, motoristas corporativos e aprova\u00e7\u00f5es administrativas.</p> <p>Assista ao V\u00eddeo do FrotaNext Funcionando</p> <p> <p>Clique na imagem para assistir no YouTube.</p> </p>"},{"location":"#arquitetura-em-resumo","title":"\ud83c\udfdb\ufe0f Arquitetura em Resumo","text":"<p>O sistema foi constru\u00eddo sobre o princ\u00edpio da separa\u00e7\u00e3o de responsabilidades. Em vez de um mon\u00f3lito gigante, dividimos a aplica\u00e7\u00e3o em servi\u00e7os especializados que rodam em cont\u00eaineres Docker orquestrados.</p> <pre><code>graph LR\n    User([\ud83d\udc64 Usu\u00e1rio]) --&gt;|Acessa| Front[\ud83d\udcbb Frontend React]\n\n    subgraph \"Docker Cluster\"\n        Front --&gt;|Login/Tokens| Auth[\ud83d\udd10 Auth API]\n        Front --&gt;|Reservas/Frota| Core[\u2699\ufe0f Backend Principal]\n\n        Auth --&gt;|SQL| DB[(\ud83d\uddc4\ufe0f PostgreSQL \u00danico)]\n        Core --&gt;|SQL| DB\n    end\n\n    classDef container fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#000;\n    classDef db fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000;\n    class Front,Auth,Core container;\n    class DB db;</code></pre> <p>O tr\u00e1fego \u00e9 roteado pelo Frontend, que se comunica com duas APIs distintas: uma para Identidade (Auth Service) e outra para Regras de Neg\u00f3cio (Backend Principal), ambas compartilhando um banco de dados robusto.</p>"},{"location":"#stack-tecnologica","title":"\ud83d\udee0\ufe0f Stack Tecnol\u00f3gica","text":"<p>Utilizamos tecnologias modernas para garantir performance, tipagem segura e facilidade de manuten\u00e7\u00e3o.</p> \ud83d\udcbb Frontend <ul> <li>React 18 (Vite): Para uma interface super r\u00e1pida (SPA).</li> <li>TypeScript: Seguran\u00e7a de tipos e menos bugs.</li> <li>Tailwind CSS: Estiliza\u00e7\u00e3o moderna e responsiva.</li> <li>React Hook Form: Gest\u00e3o eficiente de formul\u00e1rios complexos.</li> </ul> \u2699\ufe0f Backends <ul> <li>Python 3.11: Linguagem base.</li> <li>FastAPI: Framework de alta performance e ass\u00edncrono.</li> <li>SQLAlchemy + Pydantic: ORM e valida\u00e7\u00e3o de dados rigorosa.</li> <li>Pytest: Su\u00edte de testes automatizados.</li> </ul> \u2601\ufe0f Infraestrutura <ul> <li>Docker &amp; Docker Compose: Containeriza\u00e7\u00e3o total do ambiente.</li> <li>PostgreSQL 15: Banco de dados relacional com heran\u00e7a de tabelas.</li> <li>Nginx (Produ\u00e7\u00e3o): Proxy reverso e gest\u00e3o de SSL.</li> </ul>"},{"location":"#funcionalidades-principais","title":"\ud83d\ude80 Funcionalidades Principais","text":"<p>O sistema atende a tr\u00eas perfis distintos de usu\u00e1rio, cada um com fluxos exclusivos.</p>"},{"location":"#para-clientes-pessoa-fisica","title":"Para Clientes (Pessoa F\u00edsica)","text":"<ul> <li>Vitrine Digital: Navega\u00e7\u00e3o por categorias (Passeio, Utilit\u00e1rio, Moto).</li> <li>Reserva Inteligente: Simula\u00e7\u00e3o de pre\u00e7os em tempo real antes de confirmar.</li> <li>Minhas Viagens: Hist\u00f3rico completo e status das reservas atuais.</li> </ul>"},{"location":"#para-empresas-pessoa-juridica","title":"Para Empresas (Pessoa Jur\u00eddica)","text":"<ul> <li>Gest\u00e3o de Condutores: Painel exclusivo para cadastrar motoristas (CPF) vinculados ao CNPJ.</li> <li>Delega\u00e7\u00e3o de Retirada: A empresa paga, mas indica qual funcion\u00e1rio ir\u00e1 retirar o carro.</li> </ul>"},{"location":"#para-administradores","title":"Para Administradores","text":"<ul> <li>Dashboard de KPIs: Gr\u00e1ficos de ocupa\u00e7\u00e3o da frota e agenda do dia.</li> <li>Controle de Frota: Cadastro e manuten\u00e7\u00e3o de ve\u00edculos.</li> <li>Opera\u00e7\u00e3o de P\u00e1tio: Registro de Retirada e Devolu\u00e7\u00e3o com c\u00e1lculo autom\u00e1tico de multas.</li> </ul> <p>Por onde come\u00e7ar?</p> <p>Se voc\u00ea \u00e9 um desenvolvedor e quer rodar o projeto agora mesmo, v\u00e1 para o Guia de Instala\u00e7\u00e3o e Setup.</p>"},{"location":"arquitetura/database/","title":"Banco de Dados e Modelagem","text":"<p>PostgreSQL 15</p> <p>O FrotaNext utiliza o PostgreSQL como sistema gerenciador de banco de dados relacional (RDBMS). A modelagem foi projetada para suportar alta integridade referencial e o padr\u00e3o de Heran\u00e7a de Tabelas (Joined Inheritance).</p>"},{"location":"arquitetura/database/#diagrama-entidade-relacionamento-er","title":"\ud83d\uddfa\ufe0f Diagrama Entidade-Relacionamento (ER)","text":"<p>O diagrama abaixo ilustra a estrutura f\u00edsica do banco, destacando as chaves prim\u00e1rias (PK), estrangeiras (FK) e os relacionamentos.</p> <p></p>"},{"location":"arquitetura/database/#estrutura-das-tabelas","title":"\ud83c\udfd7\ufe0f Estrutura das Tabelas","text":"<p>O banco foi desenhado para evitar redund\u00e2ncia de dados, utilizando tabelas base para entidades compartilhadas.</p>"},{"location":"arquitetura/database/#1-nucleo-de-usuarios-heranca","title":"1. N\u00facleo de Usu\u00e1rios (Heran\u00e7a)","text":"<p>Utilizamos a estrat\u00e9gia Joined Table para lidar com Pessoas F\u00edsicas e Jur\u00eddicas.</p> Tabela Descri\u00e7\u00e3o Relacionamento <code>pessoas</code> Tabela pai. Armazena dados comuns: ID, email, telefone, senha (hash) e status. 1:1 com <code>enderecos</code>. <code>pessoas_fisicas</code> Extens\u00e3o de pessoa. Cont\u00e9m CPF, CNH e Nome Completo. FK <code>id_pessoa</code> -&gt; <code>pessoas</code>. <code>pessoas_juridicas</code> Extens\u00e3o de pessoa. Cont\u00e9m CNPJ, Raz\u00e3o Social e Fantasia. FK <code>id_pessoa</code> -&gt; <code>pessoas</code>. <code>funcionarios</code> Tabela isolada para administradores do sistema. N\u00e3o herda de pessoas (acesso administrativo separado). <p>V\u00ednculo Corporativo</p> <p>A tabela <code>pessoas_fisicas</code> possui uma coluna <code>empresa_id</code> (FK). Isso permite vincular um motorista (PF) a uma empresa (PJ), habilitando a funcionalidade de Gest\u00e3o de Condutores.</p>"},{"location":"arquitetura/database/#2-gestao-de-frota-heranca","title":"2. Gest\u00e3o de Frota (Heran\u00e7a)","text":"<p>Assim como os usu\u00e1rios, os ve\u00edculos seguem um modelo hier\u00e1rquico.</p> Tabela Descri\u00e7\u00e3o Dados Espec\u00edficos <code>veiculos</code> Tabela pai. Dados globais: Placa, Marca, Modelo, Ano, Cor, Di\u00e1ria. Define o <code>status</code> (Dispon\u00edvel, Alugado). <code>veiculos_passeio</code> Carros de passeio. Tipo de carroceria, Portas, Passageiros, Ar Condicionado. <code>veiculos_motocicleta</code> Motos e Scooters. Cilindrada, Partida El\u00e9trica, ABS. <code>veiculos_utilitario</code> Ve\u00edculos de carga. Capacidade de Carga (kg/m\u00b3), Dimens\u00f5es."},{"location":"arquitetura/database/#3-operacao-reservas","title":"3. Opera\u00e7\u00e3o (Reservas)","text":"<p>A tabela <code>reservas</code> \u00e9 o cora\u00e7\u00e3o transacional do sistema.</p> <ul> <li><code>cliente_id</code>: Quem paga a reserva (PF ou PJ).</li> <li><code>motorista_id</code>: Quem retira o ve\u00edculo (Condutor). Se o cliente for PJ, este campo \u00e9 obrigat\u00f3rio.</li> <li><code>veiculo_id</code>: O carro alugado.</li> <li><code>valores</code>: Armazenamos o <code>valor_diaria_no_momento</code> como um snapshot. Se o pre\u00e7o do carro mudar no futuro, o hist\u00f3rico da reserva antiga n\u00e3o \u00e9 alterado.</li> </ul>"},{"location":"arquitetura/database/#tipos-enumerados-enums","title":"\ud83d\udee1\ufe0f Tipos Enumerados (Enums)","text":"<p>Para garantir a consist\u00eancia dos dados e evitar \"strings m\u00e1gicas\", utilizamos ENUMs nativos do PostgreSQL.</p> Status de Ve\u00edculoStatus de ReservaCores <ul> <li><code>dispon\u00edvel</code></li> <li><code>reservado</code></li> <li><code>alugado</code></li> <li><code>em manuten\u00e7\u00e3o</code></li> </ul> <ul> <li><code>pendente</code> (Aguardando aprova\u00e7\u00e3o)</li> <li><code>confirmada</code> (Aprovada pelo Admin)</li> <li><code>em_andamento</code> (Ve\u00edculo retirado)</li> <li><code>finalizada</code> (Ve\u00edculo devolvido)</li> <li><code>cancelada</code></li> </ul> <p>Padroniza\u00e7\u00e3o para filtros: <code>Preto</code>, <code>Branco</code>, <code>Prata</code>, <code>Cinza</code>, <code>Vermelho</code>, <code>Azul</code>, etc.</p>"},{"location":"arquitetura/database/#indices-e-performance","title":"\u26a1 \u00cdndices e Performance","text":"<p>Criamos \u00edndices estrat\u00e9gicos para acelerar as consultas mais frequentes do Frontend e do Painel Administrativo.</p> <pre><code>CREATE INDEX idx_veiculos_status ON veiculos (status); \nCREATE INDEX idx_reservas_status ON reservas (status); \nCREATE INDEX idx_reservas_data_retirada ON reservas(data_retirada); -\nCREATE INDEX idx_pessoas_fisicas_empresa ON pessoas_fisicas(empresa_id); \n</code></pre>"},{"location":"arquitetura/visao-geral/","title":"Vis\u00e3o Geral da Arquitetura","text":"<p>Resumo</p> <p>O FrotaNext foi desenhado seguindo uma arquitetura de Microsservi\u00e7os. Isso significa que o sistema \u00e9 composto por pequenas aplica\u00e7\u00f5es independentes que trabalham juntas, em vez de um \u00fanico bloco monol\u00edtico.</p> <p>Essa abordagem facilita a manuten\u00e7\u00e3o, permite escalar partes espec\u00edficas do sistema (ex: escalar apenas a API de reservas) e isola falhas.</p>"},{"location":"arquitetura/visao-geral/#diagrama-de-componentes","title":"\ud83d\uddfa\ufe0f Diagrama de Componentes","text":"<p>O diagrama abaixo ilustra como os cont\u00eaineres interagem dentro da rede Docker e como o usu\u00e1rio acessa o sistema.</p> <pre><code>graph TD\n    User([\ud83d\udc64 Usu\u00e1rio via Navegador]) --&gt;|HTTP/React| Front[\ud83d\udcbb Frontend]\n\n    subgraph \"Rede Docker (frota-net)\"\n        Front --&gt;|Porta 8001| Auth[\ud83d\udd10 Auth Service]\n        Front --&gt;|Porta 8000| Core[\u2699\ufe0f Backend Principal]\n\n        Core -.-&gt;|Valida Token| Auth\n\n        Auth --&gt;|L\u00ea/Escreve| DB[(\ud83d\uddc4\ufe0f PostgreSQL)]\n        Core --&gt;|L\u00ea/Escreve| DB\n    end\n\n    classDef container fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000;\n    classDef db fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000;\n\n    class Front,Auth,Core container;\n    class DB db;</code></pre>"},{"location":"arquitetura/visao-geral/#os-microsservicos","title":"\ud83e\udde9 Os Microsservi\u00e7os","text":"<p>O sistema \u00e9 composto por 4 servi\u00e7os principais, orquestrados via Docker Compose.</p>"},{"location":"arquitetura/visao-geral/#1-frontend-frota-frontend","title":"1. Frontend (<code>frota-frontend</code>)","text":"<ul> <li>Tecnologia: React 18, Vite, TypeScript.</li> <li>Responsabilidade: Interface do usu\u00e1rio (SPA). N\u00e3o acessa o banco de dados diretamente.</li> <li>Comunica\u00e7\u00e3o: Faz requisi\u00e7\u00f5es HTTP (Axios) para as APIs de Backend e Auth.</li> </ul>"},{"location":"arquitetura/visao-geral/#2-auth-service-frota-auth","title":"2. Auth Service (<code>frota-auth</code>)","text":"<ul> <li>Tecnologia: Python (FastAPI), SQLAlchemy.</li> <li>Responsabilidade: Identity Provider (IdP). Cuida exclusivamente de:<ul> <li>Cadastro de usu\u00e1rios (PF e PJ).</li> <li>Login e Hash de Senha (Argon2).</li> <li>Emiss\u00e3o de Tokens JWT.</li> </ul> </li> <li>Isolamento: Se este servi\u00e7o cair, novos usu\u00e1rios n\u00e3o logam, mas quem tem token v\u00e1lido continua usando o sistema por um tempo.</li> </ul>"},{"location":"arquitetura/visao-geral/#3-backend-principal-frota-backend","title":"3. Backend Principal (<code>frota-backend</code>)","text":"<ul> <li>Tecnologia: Python (FastAPI), SQLAlchemy.</li> <li>Responsabilidade: Core Business. Gerencia:<ul> <li>Ve\u00edculos e categorias.</li> <li>Regras de Reserva (c\u00e1lculo de dias, multas).</li> <li>Dashboard Administrativo.</li> </ul> </li> <li>Seguran\u00e7a: Valida os tokens JWT emitidos pelo Auth Service antes de permitir a\u00e7\u00f5es.</li> </ul>"},{"location":"arquitetura/visao-geral/#4-banco-de-dados-frota-db","title":"4. Banco de Dados (<code>frota-db</code>)","text":"<ul> <li>Tecnologia: PostgreSQL 15.</li> <li>Estrat\u00e9gia: Banco \u00danico Compartilhado (Shared Database).<ul> <li>Embora sejam microsservi\u00e7os, optamos por um banco \u00fanico para simplificar a integridade referencial (Foreign Keys) entre <code>Reservas</code> (Backend) e <code>Clientes</code> (Auth), facilitando joins e relat\u00f3rios nesta fase do projeto.</li> </ul> </li> </ul>"},{"location":"arquitetura/visao-geral/#fluxos-de-comunicacao","title":"\ud83d\udd04 Fluxos de Comunica\u00e7\u00e3o","text":""},{"location":"arquitetura/visao-geral/#fluxo-de-requisicao-request-flow","title":"Fluxo de Requisi\u00e7\u00e3o (Request Flow)","text":"<p>Todas as requisi\u00e7\u00f5es seguem o padr\u00e3o RESTful/JSON.</p> <ol> <li>Login: O Frontend envia credenciais para o Auth Service.</li> <li>Token: Se v\u00e1lido, o Auth Service retorna um JWT (Access Token).</li> <li>Uso: O Frontend armazena esse token e o anexa no Header <code>Authorization: Bearer ...</code> de cada requisi\u00e7\u00e3o para o Backend Principal.</li> <li>Valida\u00e7\u00e3o: O Backend Principal verifica a assinatura do token (usando a <code>SECRET_KEY</code> compartilhada) para saber quem \u00e9 o usu\u00e1rio sem precisar perguntar ao banco a cada vez.</li> </ol>"},{"location":"arquitetura/visao-geral/#padroes-de-projeto","title":"\ud83d\udcd0 Padr\u00f5es de Projeto","text":"<p>Utilizamos padr\u00f5es robustos para garantir a qualidade do c\u00f3digo.</p> Backend <ul> <li>Repository Pattern (Simplificado): Uso de Services para isolar a l\u00f3gica de neg\u00f3cio dos Routers (Controladores).</li> <li>Dependency Injection: O FastAPI injeta sess\u00f5es de banco e usu\u00e1rios logados nas rotas.</li> <li>Pydantic Schemas: Camada de DTO (Data Transfer Object) para validar dados de entrada e sa\u00edda.</li> </ul> Frontend <ul> <li>Component-Based: Interface dividida em pequenos blocos reutiliz\u00e1veis (Bot\u00f5es, Cards, Modais).</li> <li>Hooks Customizados: L\u00f3gica de estado complexa separada da visualiza\u00e7\u00e3o.</li> <li>Context API: Gerenciamento de estado global para a sess\u00e3o do usu\u00e1rio (AuthContext).</li> </ul> Banco de Dados <ul> <li>Joined Inheritance: Uso de polimorfismo para tratar <code>PessoaFisica</code> e <code>PessoaJuridica</code> como especializa\u00e7\u00f5es de uma tabela <code>Pessoas</code> gen\u00e9rica.</li> </ul>"},{"location":"auth/","title":"Auth Service (Identidade)","text":"<p>Vis\u00e3o Geral</p> <p>O Auth Service (ou <code>frota-auth</code>) \u00e9 o microsservi\u00e7o respons\u00e1vel exclusivamente pela gest\u00e3o de identidade e controle de acesso.</p> <p>Ele atua como um Identity Provider (IdP) para o ecossistema FrotaNext: valida credenciais, emite tokens de acesso (JWT) e gerencia o cadastro de novos usu\u00e1rios.</p>"},{"location":"auth/#arquitetura-de-seguranca","title":"\ud83d\udd10 Arquitetura de Seguran\u00e7a","text":"<p>Diferente do Backend Principal, este servi\u00e7o foca em criptografia e valida\u00e7\u00e3o.</p> <pre><code>graph TD\n    User(Login Request) --&gt; Router[Auth Router]\n    Router --&gt; Service[Auth Service]\n    Service --&gt; Hash[\ud83d\udd10 Argon2 Hasher]\n    Service --&gt; JWT[\ud83c\udfab JWT Factory]\n    Service --&gt; DB[(\ud83d\uddc4\ufe0f PostgreSQL)]\n\n    classDef secure fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;\n    class Hash,JWT secure;</code></pre>"},{"location":"auth/#componentes-chave","title":"Componentes Chave","text":"<ul> <li><code>seguranca.py</code>: M\u00f3dulo core que cont\u00e9m:<ul> <li>Configura\u00e7\u00e3o do Passlib para hash de senhas.</li> <li>Configura\u00e7\u00e3o do Python-Jose para criar e decodificar tokens JWT.</li> </ul> </li> <li>Routers: Endpoints para login (<code>/token</code>), cadastro de PF (<code>/clientes/pf</code>) e PJ (<code>/clientes/pj</code>).</li> </ul>"},{"location":"auth/#padroes-de-seguranca","title":"\ud83d\udee1\ufe0f Padr\u00f5es de Seguran\u00e7a","text":"<p>Utilizamos padr\u00f5es da ind\u00fastria para garantir que os dados sens\u00edveis estejam protegidos.</p>"},{"location":"auth/#1-hash-de-senha-argon2","title":"1. Hash de Senha (Argon2)","text":"<p>N\u00e3o salvamos senhas em texto puro. Utilizamos o algoritmo Argon2, vencedor da Password Hashing Competition, que \u00e9 resistente a ataques de for\u00e7a bruta baseados em GPU.</p>"},{"location":"auth/#2-tokens-jwt-json-web-tokens","title":"2. Tokens JWT (JSON Web Tokens)","text":"<p>A autentica\u00e7\u00e3o \u00e9 stateless (sem sess\u00e3o no servidor).</p> <ul> <li>Formato: Bearer Token.</li> <li>Algoritmo de Assinatura: HS256 (HMAC com SHA-256).</li> <li>Payload: O token carrega o <code>sub</code> (ID do usu\u00e1rio) e o <code>tipo</code> (admin, cliente_pf, cliente_pj), permitindo que o Backend Principal valide permiss\u00f5es sem consultar o banco toda vez.</li> </ul>"},{"location":"auth/#fluxo-de-autenticacao","title":"\ud83d\udea6 Fluxo de Autentica\u00e7\u00e3o","text":"<ol> <li>Login: O Frontend envia <code>email</code> e <code>senha</code> para o endpoint <code>/auth/token</code>.</li> <li>Valida\u00e7\u00e3o: O Auth Service busca o hash no banco e compara com a senha enviada.</li> <li>Emiss\u00e3o: Se v\u00e1lido, retorna um <code>access_token</code> com expira\u00e7\u00e3o definida (ex: 30 minutos).</li> <li>Uso: O Frontend anexa esse token no header <code>Authorization: Bearer &lt;token&gt;</code> para todas as requisi\u00e7\u00f5es subsequentes ao Backend Principal.</li> </ol>"},{"location":"auth/#comandos-de-desenvolvimento","title":"\ud83d\udee0\ufe0f Comandos de Desenvolvimento","text":"<p>Dentro do container <code>frota-auth</code> (ou <code>auth-service</code> dependendo do seu docker-compose), voc\u00ea pode rodar:</p> Comando Descri\u00e7\u00e3o <code>pytest -v</code> Roda os testes de autentica\u00e7\u00e3o. <code>alembic upgrade head</code> (Se houver) Aplica migra\u00e7\u00f5es de banco espec\u00edficas. <p>Nota sobre a Pasta</p> <p>Se voc\u00ea estiver rodando localmente fora do Docker, lembre-se que o c\u00f3digo deste servi\u00e7o reside na pasta <code>frota-auth/</code> (anteriormente chamada de auth-api).</p>"},{"location":"auth/jwt/","title":"Fluxo de Autentica\u00e7\u00e3o JWT","text":"<p>O FrotaNext utiliza JSON Web Tokens (JWT) para autentica\u00e7\u00e3o stateless (sem estado). Isso significa que o servidor n\u00e3o precisa guardar uma sess\u00e3o na mem\u00f3ria para cada usu\u00e1rio logado; todas as informa\u00e7\u00f5es necess\u00e1rias est\u00e3o contidas no pr\u00f3prio token assinado.</p>"},{"location":"auth/jwt/#o-ciclo-de-vida-da-requisicao","title":"\ud83d\udd04 O Ciclo de Vida da Requisi\u00e7\u00e3o","text":"<p>O diagrama abaixo ilustra como o Frontend interage com os microsservi\u00e7os usando o token.</p> <pre><code>sequenceDiagram\n    participant User as \ud83d\udc64 Usu\u00e1rio/Frontend\n    participant Auth as \ud83d\udd10 Auth Service\n    participant Backend as \u2699\ufe0f Backend Principal\n\n    Note over User, Auth: Passo 1: Login\n    User-&gt;&gt;Auth: POST /token (email, senha)\n    Auth-&gt;&gt;Auth: Valida Hash da Senha (Argon2)\n    Auth-&gt;&gt;User: Retorna 200 OK + { access_token }\n\n    Note over User, Backend: Passo 2: Acesso Protegido\n    User-&gt;&gt;Backend: GET /reservas (Header: Bearer &lt;token&gt;)\n    Backend-&gt;&gt;Backend: Decodifica e Valida Assinatura (HS256)\n\n    alt Assinatura Inv\u00e1lida ou Expirada\n        Backend--&gt;&gt;User: 401 Unauthorized\n    else Token V\u00e1lido\n        Backend-&gt;&gt;Backend: L\u00ea permiss\u00f5es do Payload (role: admin?)\n        Backend--&gt;&gt;User: 200 OK (Dados das Reservas)\n    end</code></pre>"},{"location":"auth/jwt/#estrutura-do-token","title":"\ud83c\udf9f\ufe0f Estrutura do Token","text":"<p>Nosso token \u00e9 composto por tr\u00eas partes codificadas em Base64 e separadas por pontos (<code>.</code>).</p>"},{"location":"auth/jwt/#1-header-cabecalho","title":"1. Header (Cabe\u00e7alho)","text":"<p>Define o algoritmo de assinatura utilizado.</p> <pre><code>{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n</code></pre>"},{"location":"auth/jwt/#2-payload-carga-util","title":"2. Payload (Carga \u00datil)","text":"<p>Cont\u00e9m os dados do usu\u00e1rio (Claims). \u00c9 aqui que definimos quem \u00e9 o usu\u00e1rio e o que ele pode fazer.</p> Campo Significado Exemplo <code>sub</code> Subject (Identificador \u00fanico) <code>123</code> (ID do usu\u00e1rio) <code>exp</code> Expiration (Validade) <code>1735689600</code> (Timestamp Unix) <code>tipo</code> Role (Perfil de acesso) <code>admin</code>, <code>cliente_pf</code> ou <code>cliente_pj</code> <code>email</code> Email do usu\u00e1rio <code>admin@frotanext.com</code> <p>Seguran\u00e7a do Payload</p> <p>O Payload \u00e9 apenas codificado em Base64, n\u00e3o \u00e9 criptografado. Qualquer pessoa com o token pode ler esses dados. Por isso, nunca colocamos senhas dentro do token.</p>"},{"location":"auth/jwt/#3-signature-assinatura","title":"3. Signature (Assinatura)","text":"<p>\u00c9 a garantia de que o token n\u00e3o foi alterado. Ela \u00e9 gerada combinando o Header, o Payload e a nossa <code>SECRET_KEY</code>.</p> <pre><code>HMACSHA256(\n  base64UrlEncode(header) + \".\" +\n  base64UrlEncode(payload),\n  SECRET_KEY\n)\n</code></pre> <p>Se um usu\u00e1rio mal-intencionado tentar mudar o <code>tipo</code> de <code>cliente</code> para <code>admin</code> no payload, a assinatura n\u00e3o bater\u00e1 e o Backend rejeitar\u00e1 a requisi\u00e7\u00e3o.</p>"},{"location":"auth/jwt/#segredo-compartilhado-secret_key","title":"\ud83d\udd10 Segredo Compartilhado (<code>SECRET_KEY</code>)","text":"<p>Como o Auth Service (que cria o token) e o Backend Principal (que valida o token) s\u00e3o servi\u00e7os separados, eles precisam compartilhar a mesma chave secreta para que a valida\u00e7\u00e3o funcione.</p> <p>Isso \u00e9 configurado via Vari\u00e1veis de Ambiente no <code>docker-compose.yml</code>:</p> <pre><code>services:\n  auth-service:\n    environment:\n      - SECRET_KEY=sua_chave_super_secreta_compartilhada_123\n\n  backend:\n    environment:\n      - SECRET_KEY=sua_chave_super_secreta_compartilhada_123 # A MESMA CHAVE!\n</code></pre>"},{"location":"auth/jwt/#protecao-de-rotas-dependencias","title":"\ud83d\udea6 Prote\u00e7\u00e3o de Rotas (Depend\u00eancias)","text":"<p>No c\u00f3digo do Backend (FastAPI), usamos depend\u00eancias injet\u00e1veis para proteger rotas.</p> <pre><code>@router.get(\"/veiculos\", dependencies=[Depends(obter_usuario_logado)])\ndef listar_veiculos():\n    ...\n</code></pre> <p>A fun\u00e7\u00e3o <code>obter_usuario_logado</code>:</p> <ol> <li>Extrai o token do Header <code>Authorization</code>.</li> <li>Decodifica usando a <code>SECRET_KEY</code>.</li> <li>Verifica se o token expirou (<code>exp</code>).</li> <li>Retorna o usu\u00e1rio ou lan\u00e7a exce\u00e7\u00e3o <code>401 Unauthorized</code>.</li> </ol>"},{"location":"auth/jwt/#hashing-de-senhas-argon2","title":"\ud83d\udee1\ufe0f Hashing de Senhas (Argon2)","text":"<p>Embora o JWT cuide da sess\u00e3o, as senhas armazenadas no banco precisam ser protegidas. Utilizamos o algoritmo Argon2, que \u00e9 o padr\u00e3o ouro atual para hashing de senhas.</p> <ul> <li>Salting: Adiciona dados aleat\u00f3rios antes do hash para evitar ataques de Rainbow Tables.</li> <li>Custo de Mem\u00f3ria/Tempo: Configur\u00e1vel para tornar ataques de for\u00e7a bruta computacionalmente invi\u00e1veis.</li> </ul>"},{"location":"backend/","title":"Backend Principal (Core)","text":"<p>Vis\u00e3o Geral</p> <p>O Backend Principal \u00e9 o cora\u00e7\u00e3o do FrotaNext. \u00c9 uma API REST desenvolvida em Python com FastAPI que centraliza todas as regras de neg\u00f3cio cr\u00edticas do sistema, como gest\u00e3o da frota, c\u00e1lculo de pre\u00e7os de reservas e o ciclo de vida da loca\u00e7\u00e3o.</p> <p>Ele roda na porta <code>:8000</code> e se conecta ao banco PostgreSQL compartilhado.</p>"},{"location":"backend/#arquitetura-e-padroes","title":"\ud83c\udfd7\ufe0f Arquitetura e Padr\u00f5es","text":"<p>O projeto segue uma arquitetura limpa de separa\u00e7\u00e3o de responsabilidades, dividida em 4 camadas principais para garantir organiza\u00e7\u00e3o e testabilidade.</p> <pre><code>graph TD\n    Request(Requisicao HTTP) --&gt; Router[\ud83d\udee3\ufe0f Routers]\n    Router --&gt; Schema[\ud83d\udcd1 Schemas / Valida\u00e7\u00e3o]\n    Router --&gt; Service[\ud83e\udde0 Services / Regras]\n    Service --&gt; Model[\ud83d\udce6 Models / ORM]\n    Model --&gt; DB[(\ud83d\uddc4\ufe0f Banco de Dados)]\n\n    classDef layer fill:#f9f9f9,stroke:#333,stroke-width:2px;\n    class Router,Service,Model,Schema layer;</code></pre>"},{"location":"backend/#1-routers-routers","title":"1. \ud83d\udee3\ufe0f Routers (<code>/routers</code>)","text":"<ul> <li>Fun\u00e7\u00e3o: Receber as requisi\u00e7\u00f5es HTTP, validar os dados de entrada (usando Schemas) e devolver as respostas.</li> <li>Responsabilidade: N\u00e3o cont\u00e9m l\u00f3gica de neg\u00f3cio complexa. Apenas orquestra a chamada para os Services.</li> <li>Exemplo: <code>veiculo_router.py</code>, <code>reserva_router.py</code>.</li> </ul>"},{"location":"backend/#2-services-services","title":"2. \ud83e\udde0 Services (<code>/services</code>)","text":"<ul> <li>Fun\u00e7\u00e3o: O c\u00e9rebro da aplica\u00e7\u00e3o. Onde moram as regras de neg\u00f3cio.</li> <li>Responsabilidade: Calcular multas, verificar disponibilidade de datas, validar regras de estado (ex: n\u00e3o pode finalizar uma reserva que n\u00e3o come\u00e7ou).</li> <li>Exemplo: <code>reserva_service.py</code> (c\u00e1lculo de dias vs. di\u00e1rias).</li> </ul>"},{"location":"backend/#3-models-models","title":"3. \ud83d\udce6 Models (<code>/models</code>)","text":"<ul> <li>Fun\u00e7\u00e3o: Representa\u00e7\u00e3o das tabelas do banco de dados (SQLAlchemy).</li> <li>Responsabilidade: Definir colunas, tipos de dados e relacionamentos (Foreign Keys).</li> <li>Exemplo: <code>veiculo.py</code>, <code>reserva.py</code>.</li> </ul>"},{"location":"backend/#4-schemas-schemas","title":"4. \ud83d\udcd1 Schemas (<code>/schemas</code>)","text":"<ul> <li>Fun\u00e7\u00e3o: Contratos de dados (Pydantic). Define o que a API espera receber (Input) e o que ela vai devolver (Output).</li> <li>Exemplo: <code>reserva_schema.py</code> (garante que a data de devolu\u00e7\u00e3o seja futura).</li> </ul>"},{"location":"backend/#principais-funcionalidades","title":"\ud83d\udd11 Principais Funcionalidades","text":""},{"location":"backend/#gestao-de-frota","title":"\ud83d\ude97 Gest\u00e3o de Frota","text":"<p>CRUD completo de ve\u00edculos com suporte a polimorfismo (diferentes tipos de ve\u00edculos na mesma tabela base).</p> <ul> <li>Categorias: Passeio, Utilit\u00e1rio, Motocicleta.</li> <li>Status: Controle rigoroso (<code>dispon\u00edvel</code>, <code>reservado</code>, <code>alugado</code>, <code>manuten\u00e7\u00e3o</code>).</li> </ul>"},{"location":"backend/#motor-de-reservas","title":"\ud83d\udcc5 Motor de Reservas","text":"<p>O sistema gerencia o ciclo de vida completo de uma loca\u00e7\u00e3o:</p> <ol> <li>Cria\u00e7\u00e3o: Verifica conflitos de agenda (Overbooking).</li> <li>Confirma\u00e7\u00e3o: Admin aprova a reserva.</li> <li>Retirada (Check-out): Ve\u00edculo sai do p\u00e1tio (Status muda para <code>alugado</code>).</li> <li>Devolu\u00e7\u00e3o (Check-in): Ve\u00edculo volta. O sistema calcula automaticamente:<ul> <li>Valor final baseado nos dias reais utilizados.</li> <li>Multas por atraso.</li> </ul> </li> </ol>"},{"location":"backend/#documentacao-interativa-swagger","title":"\ud83d\udcda Documenta\u00e7\u00e3o Interativa (Swagger)","text":"<p>O FastAPI gera automaticamente uma documenta\u00e7\u00e3o interativa e test\u00e1vel.</p> <p>Quando o projeto estiver rodando, acesse: http://localhost:8000/docs</p> tela do swagger da FrotaNext"},{"location":"backend/#comandos-de-desenvolvimento","title":"\ud83d\udee0\ufe0f Comandos de Desenvolvimento","text":"<p>Dentro do container <code>backend</code> (via <code>docker compose exec backend ...</code>), voc\u00ea pode rodar:</p> Comando Descri\u00e7\u00e3o <code>pytest -v</code> Roda toda a su\u00edte de testes. <code>pylint src/</code> Verifica a qualidade do c\u00f3digo (Linter). <code>python reset-popula.py</code> Reseta o banco e cria dados de teste."},{"location":"backend/models/","title":"Modelos de Dados e Regras (ORM)","text":"<p>SQLAlchemy &amp; ORM</p> <p>O Backend utiliza o SQLAlchemy como ORM (Object Relational Mapper). Isso significa que as tabelas do banco s\u00e3o representadas como Classes Python.</p> <p>A estrat\u00e9gia de modelagem utilizada \u00e9 a Joined Table Inheritance (Heran\u00e7a de Tabela), permitindo tratar diferentes tipos de entidades (ex: Carro vs Moto, PF vs PJ) de forma polim\u00f3rfica.</p>"},{"location":"backend/models/#visao-geral-visual","title":"\ud83d\uddfa\ufe0f Vis\u00e3o Geral Visual","text":"<p>Abaixo, o diagrama f\u00edsico que representa como o SQLAlchemy materializa as classes no PostgreSQL.</p> <p></p> <p>Um diagrama DDL no formato de um script .sql pode ser encontrado dentro do reposit\u00f3rio com o nome de <code>FrotaNext-DDL.sql</code>.</p>"},{"location":"backend/models/#modulo-de-pessoas-usuarios","title":"\ud83d\udc65 M\u00f3dulo de Pessoas (Usu\u00e1rios)","text":"<p>A tabela <code>pessoas</code> \u00e9 a base para todos os usu\u00e1rios do sistema. Ela armazena as credenciais de login e dados de contato comuns.</p>"},{"location":"backend/models/#estrutura-de-heranca","title":"Estrutura de Heran\u00e7a","text":"<ol> <li> <p><code>Pessoa</code> (Pai/Base):</p> <ul> <li>Cont\u00e9m: <code>id</code>, <code>email</code>, <code>senha</code> (hash), <code>telefone</code>, <code>ativo</code>.</li> <li>Responsabilidade: Autentica\u00e7\u00e3o e bloqueio de acesso.</li> </ul> </li> <li> <p><code>PessoaFisica</code> (Filha de Pessoa):</p> <ul> <li>Cont\u00e9m: <code>cpf</code>, <code>nome_completo</code>, <code>cnh</code>.</li> <li>Funcionalidade Extra: Pode ter um <code>empresa_id</code> (FK), vinculando este motorista a uma conta corporativa.</li> </ul> </li> <li> <p><code>PessoaJuridica</code> (Filha de Pessoa):</p> <ul> <li>Cont\u00e9m: <code>cnpj</code>, <code>razao_social</code>, <code>nome_fantasia</code>.</li> <li>Funcionalidade: Pode gerenciar uma lista de motoristas (Pessoas F\u00edsicas) vinculados a ela.</li> </ul> </li> </ol>"},{"location":"backend/models/#modulo-de-frota-veiculos","title":"\ud83d\ude97 M\u00f3dulo de Frota (Ve\u00edculos)","text":"<p>Similar \u00e0s pessoas, os ve\u00edculos compartilham caracter\u00edsticas globais, mas possuem especificidades t\u00e9cnicas.</p>"},{"location":"backend/models/#estrutura-de-heranca_1","title":"Estrutura de Heran\u00e7a","text":"<ol> <li> <p><code>Veiculo</code> (Pai/Base):</p> <ul> <li>Dados: <code>placa</code>, <code>marca</code>, <code>modelo</code>, <code>ano</code>, <code>cor</code>, <code>valor_diaria</code>.</li> <li>Controle: <code>status</code> (Dispon\u00edvel, Alugado, etc).</li> </ul> </li> <li> <p>Especializa\u00e7\u00f5es:</p> <ul> <li><code>Passeio</code>: Carros comuns. Atributos: <code>qtde_portas</code>, <code>ar_condicionado</code>, <code>tipo_carroceria</code>.</li> <li><code>Motocicleta</code>: Motos. Atributos: <code>cilindrada</code>, <code>partida_eletrica</code>.</li> <li><code>Utilitario</code>: Vans e caminhonetes. Atributos: <code>capacidade_carga</code>, <code>tamanho_bau</code>.</li> </ul> </li> </ol> <p>Polimorfismo na Pr\u00e1tica</p> <p>Ao buscar ve\u00edculos na API (<code>GET /veiculos</code>), o sistema retorna uma lista mista contendo carros, motos e utilit\u00e1rios. O Frontend usa o campo <code>tipo_veiculo</code> para decidir qual \u00edcone mostrar.</p>"},{"location":"backend/models/#modulo-de-operacao-reservas","title":"\ud83d\udcc5 M\u00f3dulo de Opera\u00e7\u00e3o (Reservas)","text":"<p>A tabela <code>reservas</code> \u00e9 o ponto central de transa\u00e7\u00e3o do sistema, conectando um Cliente, um Ve\u00edculo e um per\u00edodo de tempo.</p>"},{"location":"backend/models/#campos-importantes","title":"Campos Importantes","text":"Campo Tipo Descri\u00e7\u00e3o <code>data_retirada</code> DateTime Data agendada ou efetiva da retirada. <code>data_devolucao</code> DateTime Data prevista para retorno. <code>valor_diaria_no_momento</code> Float Snapshot de Pre\u00e7o: Gravamos quanto custava a di\u00e1ria no dia da reserva. Se o pre\u00e7o do carro aumentar depois, a reserva antiga n\u00e3o \u00e9 afetada. <code>cliente_id</code> FK Quem paga a conta (PF ou PJ). <code>motorista_id</code> FK Quem retira o carro (Obrigat\u00f3rio se o cliente for PJ)."},{"location":"backend/models/#estados-e-enums","title":"\ud83d\udea6 Estados e Enums","text":"<p>O sistema utiliza m\u00e1quinas de estado rigorosas para garantir a consist\u00eancia dos dados.</p>"},{"location":"backend/models/#ciclo-de-vida-da-reserva-statusreservaenum","title":"Ciclo de Vida da Reserva (<code>StatusReservaEnum</code>)","text":"<pre><code>graph LR\n    P[Pendente] --&gt;|Admin Aprova| C[Confirmada]\n    C --&gt;|Retirada| A[Em Andamento]\n    A --&gt;|Devolu\u00e7\u00e3o| F[Finalizada]\n    P --&gt;|Desist\u00eancia| X[Cancelada]\n    C --&gt;|Desist\u00eancia| X</code></pre> <ul> <li><code>PENDENTE</code>: Cliente solicitou, aguardando aprova\u00e7\u00e3o.</li> <li><code>CONFIRMADA</code>: Admin validou, ve\u00edculo bloqueado para o cliente.</li> <li><code>EM_ANDAMENTO</code>: Cliente retirou o ve\u00edculo do p\u00e1tio.</li> <li><code>FINALIZADA</code>: Ve\u00edculo devolvido e vistoriado.</li> <li><code>CANCELADA</code>: Reserva anulada (sem cobran\u00e7a se feito com anteced\u00eancia).</li> </ul>"},{"location":"backend/models/#status-do-veiculo-statusveiculoenum","title":"Status do Ve\u00edculo (<code>StatusVeiculoEnum</code>)","text":"<ul> <li><code>DISPONIVEL</code>: Pronto para alugar.</li> <li><code>RESERVADO</code>: Vinculado a uma reserva futura (n\u00e3o aparece na vitrine para as mesmas datas).</li> <li><code>ALUGADO</code>: Est\u00e1 na rua com cliente.</li> <li><code>MANUTENCAO</code>: No mec\u00e2nico/limpeza (bloqueado para aluguel).</li> </ul>"},{"location":"deploy/guia/","title":"Guia de Deploy na Nuvem (Produ\u00e7\u00e3o)","text":"<p>Este guia documenta o processo completo de implanta\u00e7\u00e3o do FrotaNext em um ambiente de produ\u00e7\u00e3o real, utilizando a Oracle Cloud Infrastructure (OCI) e Docker.</p> <p>Prepara\u00e7\u00e3o do C\u00f3digo e Testes Locais</p> <p>Este guia foca exclusivamente na configura\u00e7\u00e3o da infraestrutura de nuvem (servidor, rede e publica\u00e7\u00e3o). Se voc\u00ea deseja saber com mais detalhes como baixar os reposit\u00f3rios, configurar a estrutura de pastas e rodar o projeto localmente para testes antes do deploy, consulte o nosso Guia de Instala\u00e7\u00e3o e Setup.</p>"},{"location":"deploy/guia/#demonstracao-em-producao","title":"\ud83c\udfa5 Demonstra\u00e7\u00e3o em Produ\u00e7\u00e3o","text":"<p>Antes de entrarmos nos detalhes t\u00e9cnicos, confira o v\u00eddeo abaixo demonstrando o sistema operando em nuvem, cobrindo o ciclo completo de reserva, gest\u00e3o de frota e fluxos administrativos.</p> <p>Assista ao V\u00eddeo da Jornada Completa</p> <p> <p>Clique na imagem para assistir no YouTube.</p> </p>"},{"location":"deploy/guia/#1-infraestrutura-na-oracle-cloud","title":"\u2601\ufe0f 1. Infraestrutura na Oracle Cloud","text":"<p>O projeto foi hospedado em uma inst\u00e2ncia Always Free da Oracle Cloud. </p>"},{"location":"deploy/guia/#11-configuracao-da-rede-vcn","title":"1.1. Configura\u00e7\u00e3o da Rede (VCN)","text":"<p>Antes de criar a m\u00e1quina, \u00e9 necess\u00e1rio configurar a rede e liberar as portas de comunica\u00e7\u00e3o: 1. Cria\u00e7\u00e3o de uma Virtual Cloud Network (VCN) com uma Sub-rede P\u00fablica. 2. Configura\u00e7\u00e3o da Security List (Firewall da Oracle) liberando as regras de entrada (Ingress) para:     * Porta <code>3000</code> (Frontend)     * Porta <code>8000</code> (Backend API)     * Porta <code>8001</code> (Auth API)     * Porta <code>22</code> (SSH - Padr\u00e3o)</p>"},{"location":"deploy/guia/#12-criacao-da-maquina-virtual-vm","title":"1.2. Cria\u00e7\u00e3o da M\u00e1quina Virtual (VM)","text":"<ul> <li>Sistema Operacional: Canonical Ubuntu 22.04 LTS.</li> <li>Shape: <code>VM.Standard.E2.1.Micro</code> (AMD com 1 OCPU e 1 GB de RAM).</li> <li>IP P\u00fablico: Atribu\u00eddo automaticamente.</li> </ul>"},{"location":"deploy/guia/#2-preparacao-do-servidor-linux","title":"\ud83d\udee0\ufe0f 2. Prepara\u00e7\u00e3o do Servidor (Linux)","text":"<p>Ap\u00f3s acessar o servidor via SSH, o ambiente precisa ser preparado. Como a inst\u00e2ncia possui apenas 1GB de RAM, a cria\u00e7\u00e3o de uma Mem\u00f3ria Swap \u00e9 obrigat\u00f3ria para evitar travamentos durante o build do Docker.</p>"},{"location":"deploy/guia/#21-criando-memoria-swap-4gb","title":"2.1. Criando Mem\u00f3ria Swap (4GB)","text":"<pre><code>sudo fallocate -l 4G /swapfile\nsudo chmod 600 /swapfile\nsudo mkswap /swapfile\nsudo swapon /swapfile\n# Garantindo que o Swap inicie com o sistema\necho '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab\n</code></pre>"},{"location":"deploy/guia/#22-instalacao-do-docker","title":"2.2. Instala\u00e7\u00e3o do Docker","text":"<pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y\nsudo apt install docker.io docker-compose-v2 -y\nsudo usermod -aG docker $USER\n</code></pre> <p>(\u00c9 necess\u00e1rio sair e reconectar no SSH para o grupo Docker aplicar).</p>"},{"location":"deploy/guia/#3-transferencia-e-configuracao-do-projeto","title":"\ud83d\ude80 3. Transfer\u00eancia e Configura\u00e7\u00e3o do Projeto","text":"<p>Com o servidor pronto, o c\u00f3digo-fonte foi compactado localmente e enviado para a nuvem via <code>scp</code>:</p> <pre><code># Na m\u00e1quina local:\ntar -czvf frotanext.tar.gz .\nscp -i chave.key frotanext.tar.gz ubuntu@SEU_IP_PUBLICO:~\n</code></pre> <p>No servidor, os arquivos foram extra\u00eddos e as configura\u00e7\u00f5es de IP foram ajustadas para o ambiente de produ\u00e7\u00e3o.</p>"},{"location":"deploy/guia/#31-ajuste-de-variaveis-frontend","title":"3.1. Ajuste de Vari\u00e1veis (Frontend)","text":"<p>No arquivo <code>docker-compose.yml</code>, o Frontend foi configurado para apontar para o IP p\u00fablico do servidor:</p> <pre><code>environment:\n  - VITE_API_URL=http://SEU_IP_PUBLICO:8000\n  - VITE_AUTH_API_URL=http://SEU_IP_PUBLICO:8001\n</code></pre>"},{"location":"deploy/guia/#32-configuracao-de-cors-backend-e-auth","title":"3.2. Configura\u00e7\u00e3o de CORS (Backend e Auth)","text":"<p>Para que o navegador do cliente consiga se comunicar com a API, o IP p\u00fablico do Frontend precisou ser adicionado \u00e0 lista de origens permitidas (CORS) em ambos os servi\u00e7os:</p> <pre><code># Em src/main.py (Backend e Auth)\norigins = [\n    \"http://localhost:3000\",\n    \"http://SEU_IP_PUBLICO:3000\" # Adicionado para produ\u00e7\u00e3o\n]\n</code></pre>"},{"location":"deploy/guia/#4-subindo-o-sistema-deploy-final","title":"\ud83d\udfe2 4. Subindo o Sistema (Deploy Final)","text":"<p>Com tudo configurado, o sistema foi iniciado orquestrando todos os cont\u00eaineres:</p> <pre><code>docker compose up -d --build\n</code></pre> <p>Ap\u00f3s o build (que leva alguns minutos devido \u00e0s limita\u00e7\u00f5es de hardware), o banco de dados foi populado com as informa\u00e7\u00f5es iniciais:</p> <pre><code>docker compose exec backend python reset-popula.py\n</code></pre> <p>Miss\u00e3o Cumprida</p> <p>O sistema est\u00e1 no ar! Agora ele pode ser acessado de qualquer lugar atrav\u00e9s do IP p\u00fablico na porta 3000 (<code>http://SEU_IP_PUBLICO:3000</code>).</p>"},{"location":"dev/estrutura/","title":"Estrutura do Projeto","text":"<p>O FrotaNext \u00e9 organizado como um monorepo l\u00f3gico, onde a raiz cont\u00e9m a infraestrutura (Docker) e subpastas cont\u00eam os microsservi\u00e7os independentes.</p> <p>Esta estrutura facilita a execu\u00e7\u00e3o de todo o ambiente com um \u00fanico comando, mantendo a separa\u00e7\u00e3o de responsabilidades.</p>"},{"location":"dev/estrutura/#visao-geral-da-raiz","title":"\ud83d\udcc2 Vis\u00e3o Geral da Raiz","text":"<pre><code>FrotaNext/\n\u251c\u2500\u2500 \ud83d\udc33 docker-compose.yml       # Orquestrador de todos os servi\u00e7os e banco\n\u251c\u2500\u2500 \ud83d\udcc4 .env                     # Vari\u00e1veis de ambiente (n\u00e3o comitado)\n\u251c\u2500\u2500 \ud83d\udc0d reset-popula.py          # Script de automa\u00e7\u00e3o para limpar e popular o banco\n\u251c\u2500\u2500 \ud83e\udd16 teste_visual_completo.py # Script de teste E2E (Selenium)\n\u2502\n\u251c\u2500\u2500 \ud83d\udcc1 backend/                 # Microsservi\u00e7o de Regras de Neg\u00f3cio (Core)\n\u251c\u2500\u2500 \ud83d\udcc1 auth-api/                # Microsservi\u00e7o de Autentica\u00e7\u00e3o\n\u251c\u2500\u2500 \ud83d\udcc1 frontend/                # Aplica\u00e7\u00e3o Web (React)\n\u2514\u2500\u2500 \ud83d\udcc1 docs/                    # Esta documenta\u00e7\u00e3o (MkDocs)\n````\n\n-----\n\n## \u2699\ufe0f Backend Principal (`/backend`)\n\nRespons\u00e1vel por toda a l\u00f3gica de neg\u00f3cio de ve\u00edculos, reservas e gerenciamento de frota. Segue uma arquitetura em camadas para organiza\u00e7\u00e3o.\n\n```text\nbackend/\n\u251c\u2500\u2500 Dockerfile                  # Configura\u00e7\u00e3o da imagem Python\n\u251c\u2500\u2500 requirements.txt            # Depend\u00eancias (FastAPI, SQLAlchemy, etc.)\n\u251c\u2500\u2500 alembic.ini                 # Configura\u00e7\u00e3o de Migra\u00e7\u00f5es (se utilizado)\n\u2502\n\u251c\u2500\u2500 src/                        # C\u00f3digo Fonte\n\u2502   \u251c\u2500\u2500 main.py                 # Ponto de entrada (App FastAPI e Configura\u00e7\u00e3o de CORS)\n\u2502   \u251c\u2500\u2500 database.py             # Conex\u00e3o com PostgreSQL (SessionLocal)\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 \ud83d\udee3\ufe0f routers/             # Controllers (Rotas da API)\n\u2502   \u2502   \u251c\u2500\u2500 veiculo_router.py\n\u2502   \u2502   \u251c\u2500\u2500 reserva_router.py\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 \ud83e\udde0 services/            # Regras de Neg\u00f3cio (L\u00f3gica Pura)\n\u2502   \u2502   \u251c\u2500\u2500 reserva_service.py  # (C\u00e1lculo de multas, valida\u00e7\u00e3o de datas)\n\u2502   \u2502   \u2514\u2500\u2500 veiculo_service.py\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 \ud83d\udce6 models/              # Modelos do Banco (SQLAlchemy - ORM)\n\u2502   \u2502   \u251c\u2500\u2500 veiculo.py          # (Tabelas: veiculos, veiculos_passeio...)\n\u2502   \u2502   \u251c\u2500\u2500 reserva.py\n\u2502   \u2502   \u2514\u2500\u2500 pessoa.py           # (Modelos compartilhados de Pessoa)\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 \ud83d\udcd1 schemas/             # Schemas de Valida\u00e7\u00e3o (Pydantic)\n\u2502       \u251c\u2500\u2500 reserva_schema.py   # (Input/Output da API)\n\u2502       \u2514\u2500\u2500 ...\n\u2502\n\u2514\u2500\u2500 tests/                      # Testes Automatizados\n    \u251c\u2500\u2500 conftest.py             # Fixtures do Pytest (Setup do Banco)\n    \u251c\u2500\u2500 test_unit_*.py          # Testes Unit\u00e1rios (Mockados)\n    \u2514\u2500\u2500 test_int_*.py           # Testes de Integra\u00e7\u00e3o (Com banco real)\n</code></pre>"},{"location":"dev/estrutura/#auth-service-auth-api","title":"\ud83d\udd10 Auth Service (<code>/auth-api</code>)","text":"<p>Servi\u00e7o leve e isolado, focado exclusivamente em identidade e tokens JWT.</p> <pre><code>auth-api/\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main.py                 # Inicializa\u00e7\u00e3o do servi\u00e7o\n\u2502   \u251c\u2500\u2500 seguranca.py            # L\u00f3gica de Hash (Argon2) e cria\u00e7\u00e3o de JWT\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 routers/                # Rotas de Login e Cadastro\n\u2502   \u2502   \u251c\u2500\u2500 auth_router.py      # (Endpoint /token)\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 services/               # Valida\u00e7\u00f5es de usu\u00e1rio\n\u2514\u2500\u2500 tests/                      # Testes espec\u00edficos de autentica\u00e7\u00e3o\n</code></pre>"},{"location":"dev/estrutura/#frontend-frontend","title":"\ud83d\udcbb Frontend (<code>/frontend</code>)","text":"<p>Aplica\u00e7\u00e3o SPA constru\u00edda com Vite e React.</p> <pre><code>frontend/\n\u251c\u2500\u2500 Dockerfile                  # Build do Node.js\n\u251c\u2500\u2500 index.html                  # Entry point do HTML\n\u251c\u2500\u2500 tailwind.config.js          # Configura\u00e7\u00e3o de Estilos\n\u2502\n\u2514\u2500\u2500 src/\n    \u251c\u2500\u2500 main.tsx                # Renderiza\u00e7\u00e3o do React\n    \u251c\u2500\u2500 App.tsx                 # Rotas principais (React Router)\n    \u2502\n    \u251c\u2500\u2500 \ud83e\uddf1 components/          # Componentes Reutiliz\u00e1veis\n    \u2502   \u251c\u2500\u2500 ui/                 # (Bot\u00f5es, Modais, Cards, Inputs)\n    \u2502   \u2514\u2500\u2500 layout/             # (Navbar, Sidebar, Footer)\n    \u2502\n    \u251c\u2500\u2500 \ud83d\udcc4 pages/               # Telas da Aplica\u00e7\u00e3o\n    \u2502   \u251c\u2500\u2500 public/             # (Home, Login, Cadastro)\n    \u2502   \u251c\u2500\u2500 client/             # (Dashboard, Minhas Reservas)\n    \u2502   \u2514\u2500\u2500 admin/              # (Gest\u00e3o de Frota, Reservas)\n    \u2502\n    \u251c\u2500\u2500 \ud83d\udd0c services/            # Comunica\u00e7\u00e3o com Backend (Axios)\n    \u2502   \u251c\u2500\u2500 api.ts              # Inst\u00e2ncia do Axios com Interceptors\n    \u2502   \u2514\u2500\u2500 authService.ts      # Chamadas para Auth API\n    \u2502\n    \u2514\u2500\u2500 \ud83c\udfa8 assets/              # Imagens e \u00edcones\n</code></pre>"},{"location":"dev/estrutura/#banco-de-dados","title":"\ud83d\uddc4\ufe0f Banco de Dados","text":"<p>O banco PostgreSQL n\u00e3o possui pasta de c\u00f3digo, pois roda a partir de uma imagem oficial Docker. Seus dados persistem no volume <code>frota_pg_data</code> (gerenciado pelo Docker).</p> <p>As tabelas s\u00e3o criadas automaticamente pelo SQLAlchemy ao iniciar o Backend Principal (no arquivo <code>backend/src/main.py</code>).</p>"},{"location":"dev/instalacao/","title":"Guia de Instala\u00e7\u00e3o e Setup","text":"<p>Este guia descreve como configurar o ambiente de desenvolvimento do FrotaNext localmente.</p> <p>Como utilizamos Docker e conteineriza\u00e7\u00e3o em todo o projeto, voc\u00ea n\u00e3o precisa instalar Python, Node.js ou PostgreSQL na sua m\u00e1quina local, apenas o Docker.</p>"},{"location":"dev/instalacao/#pre-requisitos","title":"\ud83d\udccb Pr\u00e9-requisitos","text":"<ul> <li>Docker Desktop (ou Engine + Compose no Linux).</li> <li>Git.</li> </ul>"},{"location":"dev/instalacao/#passo-a-passo","title":"\ud83d\ude80 Passo a Passo","text":""},{"location":"dev/instalacao/#1-clonar-o-repositorio-base-orquestrador","title":"1. Clonar o Reposit\u00f3rio Base (Orquestrador)","text":"<p>O projeto adota o padr\u00e3o Multi-repo. Primeiro, voc\u00ea deve clonar este reposit\u00f3rio principal, que cont\u00e9m a orquestra\u00e7\u00e3o do Docker, scripts de banco de dados e a documenta\u00e7\u00e3o.</p> <p>Abra o terminal e execute:</p> <pre><code>git clone https://github.com/GG555-13/FrotaNext-Docs.git FrotaNext\n\ncd FrotaNext\n</code></pre>"},{"location":"dev/instalacao/#2-baixar-os-microsservicos","title":"2. Baixar os Microsservi\u00e7os","text":"<p>Agora, dentro da pasta <code>FrotaNext</code>, voc\u00ea precisar\u00e1 clonar os outros tr\u00eas reposit\u00f3rios que comp\u00f5em o sistema.</p> <p>\u26a0\ufe0f Aten\u00e7\u00e3o: \u00c9 crucial que as pastas sejam criadas com os nomes exatos fornecidos nos comandos abaixo, pois o <code>docker-compose.yml</code> mapeia a constru\u00e7\u00e3o das imagens atrav\u00e9s desses nomes.</p> <pre><code># 1. Baixando o Backend Principal\ngit clone https://github.com/GG555-13/FrotaNext-Backend.git FrotaNext-Backend-main\n\n# 2. Baixando o Auth Service\ngit clone https://github.com/GG555-13/FrotaNext-Auth.git FrotaNext-Auth-main\n\n# 3. Baixando o Frontend React\ngit clone https://github.com/GG555-13/FrotaNext-Frontend.git FrotaNext-Frontend-main\n</code></pre> <p>Estrutura Final Esperada</p> <p>Ap\u00f3s clonar os 4 reposit\u00f3rios, sua pasta base deve ter a seguinte estrutura: <pre><code>    FrotaNext/\n    \u2502\n    \u251c\u2500\u2500 docker-compose.yml           &lt;-- Arquivo principal \n    \u251c\u2500\u2500 reset-popula.py              &lt;-- Script de banco de dados\n    \u2502\n    \u251c\u2500\u2500 FrotaNext-Backend-main/      &lt;-- Pasta do Backend \n    \u251c\u2500\u2500 FrotaNext-Auth-main/         &lt;-- Pasta do servi\u00e7o de Autentica\u00e7\u00e3o\n    \u2514\u2500\u2500 FrotaNext-Frontend-main/     &lt;-- Pasta do site em React\n</code></pre></p>"},{"location":"dev/instalacao/#3-subir-a-aplicacao","title":"3. Subir a Aplica\u00e7\u00e3o","text":"<p>Com todas as pe\u00e7as no lugar, basta pedir para o Docker construir as imagens e rodar os cont\u00eaineres simultaneamente:</p> <pre><code>docker compose up -d --build\n</code></pre> <p>O processo de build pode levar alguns minutos na primeira vez, pois o Docker baixar\u00e1 as depend\u00eancias do Node e do Python.</p> <p>Acesso aos Servi\u00e7os Locais</p> <p>Ap\u00f3s o comando finalizar, os servi\u00e7os estar\u00e3o dispon\u00edveis em:</p> <ul> <li>Frontend (Aplica\u00e7\u00e3o): http://localhost:3000</li> <li>Backend Principal (Swagger API): http://localhost:8000/docs</li> <li>Auth Service (Swagger API): http://localhost:8001/docs</li> </ul>"},{"location":"dev/instalacao/#populacao-do-banco-de-dados","title":"\ud83c\udf31 Popula\u00e7\u00e3o do Banco de Dados","text":"<p>Ao subir os cont\u00eaineres pela primeira vez, o banco de dados PostgreSQL ser\u00e1 criado, mas estar\u00e1 vazio.</p> <p>Para facilitar os testes, criamos um script de automa\u00e7\u00e3o (<code>reset-popula.py</code>) que cria o usu\u00e1rio administrador e cadastra ve\u00edculos de teste.</p> <p>Execute o comando abaixo no seu terminal (na raiz do projeto):</p> <pre><code>docker compose exec backend python reset-popula.py\n</code></pre> <p>O script executar\u00e1 as seguintes a\u00e7\u00f5es:</p> <ol> <li>Limpeza e recria\u00e7\u00e3o das tabelas (para garantir um estado limpo).</li> <li>Cria\u00e7\u00e3o do usu\u00e1rio Admin Root (Email: <code>admin@frotanext.com</code> | Senha: <code>admin123</code>).</li> <li>Cadastro de uma frota inicial de ve\u00edculos prontos para reserva.</li> </ol>"},{"location":"dev/instalacao/#comandos-do-dia-a-dia","title":"\ud83d\uded1 Comandos do Dia a Dia","text":"<p>Aqui est\u00e3o os principais comandos do Docker Compose para gerenciar o projeto:</p> A\u00e7\u00e3o Comando Parar todos os servi\u00e7os <code>docker compose down</code> Ver logs em tempo real (todos) <code>docker compose logs -f</code> Ver logs de um servi\u00e7o espec\u00edfico <code>docker compose logs -f frontend</code> Reiniciar servi\u00e7os <code>docker compose restart backend auth-service</code> Resetar o banco (apagar os dados) <code>docker compose down -v</code>"},{"location":"dev/testes/","title":"Guia de Testes Automatizados","text":"<p>O FrotaNext possui uma estrat\u00e9gia de testes em camadas para garantir a integridade dos microsservi\u00e7os e a experi\u00eancia do usu\u00e1rio.</p> <p>Pr\u00e9-requisito</p> <p>Certifique-se de que os cont\u00eaineres est\u00e3o rodando antes de executar qualquer teste: <pre><code>docker compose up -d\n</code></pre></p>"},{"location":"dev/testes/#testes-de-backend-unitarios-e-integracao","title":"\ud83e\uddea Testes de Backend (Unit\u00e1rios e Integra\u00e7\u00e3o)","text":"<p>Utilizamos o Pytest para testar as regras de neg\u00f3cio e endpoints das APIs. Como o ambiente \u00e9 containerizado, os comandos devem ser executados via <code>docker compose exec</code>.</p>"},{"location":"dev/testes/#auth-service-autenticacao","title":"Auth Service (Autentica\u00e7\u00e3o)","text":"<p>Testa fluxos de login, cria\u00e7\u00e3o de usu\u00e1rios, JWT e prote\u00e7\u00e3o de rotas.</p> <pre><code>docker compose exec auth-service pytest -v\n</code></pre>"},{"location":"dev/testes/#backend-principal-regras-de-negocio","title":"Backend Principal (Regras de Neg\u00f3cio)","text":"<p>Testa o ciclo de vida das reservas, CRUD de ve\u00edculos e c\u00e1lculos financeiros.</p> <pre><code>docker compose exec backend pytest -v\n</code></pre> <p>Solu\u00e7\u00e3o de Problemas (Cache)</p> <p>Se voc\u00ea fez altera\u00e7\u00f5es no c\u00f3digo e os testes parecem estar rodando uma vers\u00e3o \"antiga\" ou falhando estranhamente, limpe o cache do Pytest:</p> <pre><code>```bash\ndocker compose exec backend pytest -v --cache-clear\ndocker compose exec auth-service pytest -v --cache-clear\n```\n</code></pre>"},{"location":"dev/testes/#testes-e2e-interface-do-usuario","title":"\ud83d\udc41\ufe0f Testes E2E (Interface do Usu\u00e1rio)","text":"<p>Utilizamos um script em Python + Selenium (<code>teste_visual_completo.py</code>) que simula um usu\u00e1rio real navegando no sistema. Ele percorre o fluxo:</p> <ol> <li>Admin: Cadastra um ve\u00edculo.</li> <li>Cliente: Faz cadastro e reserva.</li> <li>Admin: Aprova, entrega e recebe o ve\u00edculo.</li> </ol>"},{"location":"dev/testes/#1-preparacao-do-ambiente","title":"1. Prepara\u00e7\u00e3o do Ambiente","text":"<p>O teste visual precisa que o usu\u00e1rio Admin j\u00e1 exista no banco de dados. Se voc\u00ea acabou de subir os containers, rode o script de popula\u00e7\u00e3o:</p> <pre><code>docker compose exec backend python reset-popula.py\n</code></pre>"},{"location":"dev/testes/#2-executando-o-teste","title":"2. Executando o Teste","text":"<p>Este teste roda na sua m\u00e1quina host (fora do Docker), pois ele precisa abrir o navegador para voc\u00ea ver.</p> <p>Instale as depend\u00eancias:</p> <pre><code>pip install selenium\n</code></pre> <p>Rode o script:</p> <pre><code>python3 teste_visual_completo.py\n</code></pre> <p>O que esperar:</p> <ul> <li>Uma janela do Firefox ser\u00e1 aberta.</li> <li>O sistema ser\u00e1 testado automaticamente (voc\u00ea ver\u00e1 os formul\u00e1rios sendo preenchidos).</li> <li>Ao final, o terminal exibir\u00e1: <code>\u2705 TESTE DE INTEGRA\u00c7\u00c3O TOTAL CONCLU\u00cdDO COM SUCESSO!</code>.</li> </ul>"},{"location":"dev/testes/#solucao-de-erros-comuns","title":"\ud83d\udc1b Solu\u00e7\u00e3o de Erros Comuns","text":""},{"location":"dev/testes/#erro-connection-refused-no-selenium","title":"Erro: \"Connection Refused\" no Selenium","text":"<p>Verifique se o Frontend est\u00e1 acess\u00edvel em <code>http://localhost:3000</code>. Se o Docker ainda estiver subindo, aguarde alguns segundos e tente novamente.</p>"},{"location":"frontend/","title":"Frontend (Interface Web)","text":"<p>Vis\u00e3o Geral</p> <p>O Frontend do FrotaNext \u00e9 uma Single Page Application (SPA) moderna, constru\u00edda com React 18 e Vite.</p> <p>Ele atua como a \u00fanica camada de intera\u00e7\u00e3o com o usu\u00e1rio, consumindo os microsservi\u00e7os de Backend e Auth via requisi\u00e7\u00f5es HTTP (REST/JSON). O design \u00e9 totalmente responsivo, adaptando-se a desktops e dispositivos m\u00f3veis.</p>"},{"location":"frontend/#stack-tecnologica","title":"\ud83d\udcbb Stack Tecnol\u00f3gica","text":"<p>Escolhemos ferramentas que priorizam performance, tipagem est\u00e1tica e produtividade.</p> Tecnologia Fun\u00e7\u00e3o Por que escolhemos? React 18 Biblioteca de UI Componentiza\u00e7\u00e3o e gest\u00e3o de estado eficiente. Vite Build Tool Builds extremamente r\u00e1pidos e Hot Module Replacement (HMR) instant\u00e2neo. TypeScript Linguagem Seguran\u00e7a de tipos, evitando erros comuns de <code>undefined</code> ou dados incorretos vindos da API. Tailwind CSS Estiliza\u00e7\u00e3o Utility-first CSS para criar layouts bonitos sem escrever arquivos <code>.css</code> gigantes. Axios HTTP Client Gerencia requisi\u00e7\u00f5es, interceptores de token e tratamento de erros global. React Hook Form Formul\u00e1rios Valida\u00e7\u00e3o de formul\u00e1rios complexos (cadastro, reservas) com m\u00ednima re-renderiza\u00e7\u00e3o."},{"location":"frontend/#integracao-com-apis","title":"\ud83d\udd0c Integra\u00e7\u00e3o com APIs","text":"<p>O Frontend precisa conversar com dois servi\u00e7os distintos. Para isso, configuramos URLs base via vari\u00e1veis de ambiente (<code>.env</code>).</p> <pre><code>graph LR\n    Front[\ud83d\udcbb Frontend]\n    Front --&gt;|VITE_AUTH_API_URL| Auth[\"\ud83d\udd10 Auth API (:8001)\"]\n    Front --&gt;|VITE_API_URL| Core[\"\u2699\ufe0f Backend Principal (:8000)\"]</code></pre>"},{"location":"frontend/#autenticacao-transparente-interceptors","title":"Autentica\u00e7\u00e3o Transparente (Interceptors)","text":"<p>Utilizamos Axios Interceptors para injetar automaticamente o token JWT em cada requisi\u00e7\u00e3o.</p> <ol> <li>Login: O usu\u00e1rio digita senha. O Frontend recebe o token do Auth Service.</li> <li>Armazenamento: O token \u00e9 salvo no <code>localStorage</code> (ou Cookie).</li> <li>Request: O interceptor \"prende\" a sa\u00edda de qualquer requisi\u00e7\u00e3o para o Backend Principal e adiciona o header:     <code>Authorization: Bearer &lt;token_salvo&gt;</code></li> <li>Expira\u00e7\u00e3o: Se a API retornar <code>401 Unauthorized</code>, o Frontend redireciona automaticamente para a tela de Login.</li> </ol>"},{"location":"frontend/#mapa-de-navegacao","title":"\ud83d\uddfa\ufe0f Mapa de Navega\u00e7\u00e3o","text":"<p>A aplica\u00e7\u00e3o \u00e9 dividida em \u00e1reas protegidas por Guardas de Rota (Route Guards), garantindo que apenas usu\u00e1rios autorizados acessem certas telas.</p>"},{"location":"frontend/#area-publica","title":"\ud83c\udf10 \u00c1rea P\u00fablica","text":"<p>Acess\u00edvel a qualquer visitante.</p> <ul> <li>Landing Page: Apresenta\u00e7\u00e3o da frota e benef\u00edcios.</li> <li>Login/Cadastro: Fluxos de entrada para PF e PJ.</li> </ul>"},{"location":"frontend/#area-do-cliente-rota-app","title":"\ud83d\udc64 \u00c1rea do Cliente (Rota <code>/app</code>)","text":"<p>Exclusiva para usu\u00e1rios logados com perfil <code>cliente_pf</code> ou <code>cliente_pj</code>.</p> <ul> <li>Dashboard: Resumo da conta e atalhos.</li> <li>Nova Reserva: Wizard de 3 passos (Escolha -&gt; Dados -&gt; Confirma\u00e7\u00e3o).</li> <li>Minhas Viagens: Hist\u00f3rico e status das reservas.</li> </ul>"},{"location":"frontend/#portal-admin-rota-admin","title":"\ud83d\udee1\ufe0f Portal Admin (Rota <code>/admin</code>)","text":"<p>Exclusiva para usu\u00e1rios com flag <code>e_admin = true</code>.</p> <ul> <li>Gest\u00e3o de Frota: CRUD de ve\u00edculos.</li> <li>Central de Reservas: Aprova\u00e7\u00e3o e controle de fluxo.</li> <li>Clientes: Bloqueio e desbloqueio de usu\u00e1rios.</li> </ul>"},{"location":"frontend/#design-system-componentes","title":"\ud83c\udfa8 Design System &amp; Componentes","text":"<p>N\u00e3o usamos bibliotecas de componentes prontos (como MUI ou AntD) para manter o bundle leve. Criamos nosso pr\u00f3prio conjunto de componentes baseados em Tailwind CSS.</p> <p>(Exemplo da interface do cliente, mostrando a consist\u00eancia visual)</p>"},{"location":"frontend/#principais-componentes-srccomponentsui","title":"Principais Componentes (<code>src/components/ui</code>)","text":"<ul> <li><code>Button</code>: Com variantes (primary, danger, outline).</li> <li><code>Input</code> / <code>Select</code>: Integrados com React Hook Form.</li> <li><code>Card</code>: Container padr\u00e3o para exibi\u00e7\u00e3o de dados.</li> <li><code>Modal</code>: Janelas de di\u00e1logo para confirma\u00e7\u00f5es cr\u00edticas.</li> <li><code>Badge</code>: Etiquetas coloridas para status (ex: Verde para \"Confirmada\", Vermelho para \"Cancelada\").</li> </ul>"},{"location":"frontend/#comandos-de-desenvolvimento","title":"\ud83d\udee0\ufe0f Comandos de Desenvolvimento","text":"<p>Dentro do container <code>frontend</code> (ou na pasta local <code>frontend/</code>):</p> Comando Descri\u00e7\u00e3o <code>npm run dev</code> Inicia o servidor de desenvolvimento (Porta 3000). <code>npm run build</code> Gera os arquivos est\u00e1ticos para produ\u00e7\u00e3o na pasta <code>dist/</code>. <code>npm run preview</code> Testa o build de produ\u00e7\u00e3o localmente."},{"location":"frontend/componentes/","title":"Biblioteca de Componentes","text":"<p>Design System</p> <p>Para garantir consist\u00eancia visual e agilidade no desenvolvimento, criamos um conjunto de Componentes Reutiliz\u00e1veis baseados em Tailwind CSS.</p> <p>Eles residem na pasta <code>src/components/ui</code> e devem ser utilizados em prefer\u00eancia ao HTML puro.</p>"},{"location":"frontend/componentes/#1-cards-e-containers","title":"1. Cards e Containers","text":"<p>Utilizados para agrupar informa\u00e7\u00f5es relacionadas, como detalhes de um ve\u00edculo ou resumo de uma reserva.</p>"},{"location":"frontend/componentes/#card","title":"<code>Card</code>","text":"<p>O bloco construtivo b\u00e1sico. Possui sombra suave, bordas arredondadas e padding padr\u00e3o.</p> <ul> <li>Uso: Dashboards, Listagem de Frota, Detalhes.</li> <li>Exemplo Visual: Vitrine de ve\u00edculos.</li> </ul> <p></p>"},{"location":"frontend/componentes/#2-elementos-de-formulario","title":"2. Elementos de Formul\u00e1rio","text":"<p>Padronizados para funcionar com React Hook Form, garantindo acessibilidade e valida\u00e7\u00e3o visual de erros.</p>"},{"location":"frontend/componentes/#input-e-select","title":"<code>Input</code> e <code>Select</code>","text":"<p>Campos de texto e sele\u00e7\u00e3o com estados de: * Normal: Borda cinza suave. * Focus: Borda azul (<code>ring-2 ring-blue-500</code>). * Erro: Borda vermelha com mensagem de valida\u00e7\u00e3o abaixo.</p> <p></p>"},{"location":"frontend/componentes/#3-feedback-e-status","title":"3. Feedback e Status","text":"<p>Componentes visuais para informar o usu\u00e1rio sobre o estado de uma entidade.</p>"},{"location":"frontend/componentes/#badge","title":"<code>Badge</code>","text":"<p>Pequenas etiquetas coloridas usadas em tabelas e cards para indicar status.</p> Cor Significado (Ve\u00edculo) Significado (Reserva) \u25cf Verde <code>Dispon\u00edvel</code> <code>Confirmada</code> \u25cf Azul <code>Alugado</code> <code>Em Andamento</code> \u25cf Laranja <code>Manuten\u00e7\u00e3o</code> <code>Pendente</code> \u25cf Vermelho <code>Indispon\u00edvel</code> <code>Cancelada</code> \u25cf Cinza - <code>Finalizada</code> <p></p> <p></p>"},{"location":"frontend/componentes/#4-modais-e-dialogos","title":"4. Modais e Di\u00e1logos","text":"<p>Utilizados para a\u00e7\u00f5es cr\u00edticas que exigem confirma\u00e7\u00e3o ou foco total do usu\u00e1rio.</p>"},{"location":"frontend/componentes/#modal","title":"<code>Modal</code>","text":"<p>Uma janela sobreposta com fundo escurecido (backdrop).</p> <p>\"Modal de Perigo (Delete)\"     </p> <p>\"Modal de Confirma\u00e7\u00e3o (Reserva)\"     </p>"},{"location":"frontend/componentes/#5-navegacao-e-estrutura","title":"5. Navega\u00e7\u00e3o e Estrutura","text":""},{"location":"frontend/componentes/#sidebar-admin","title":"<code>Sidebar</code> (Admin)","text":"<p>Menu lateral fixo para a \u00e1rea administrativa, com links ativos destacados em azul.</p> <p></p>"},{"location":"frontend/componentes/#navbar-cliente","title":"<code>Navbar</code> (Cliente)","text":"<p>Barra superior para clientes, contendo links r\u00e1pidos e menu de perfil.</p> <p></p>"},{"location":"frontend/componentes/#6-tabelas-de-dados","title":"6. Tabelas de Dados","text":"<p>Componente complexo para exibi\u00e7\u00e3o de listas densas (Admin). * Features: Cabe\u00e7alho fixo, linhas quebradas (hover), a\u00e7\u00f5es alinhadas \u00e0 direita.</p> <p></p>"}]}